{"ast":null,"code":"import _slicedToArray from\"/Users/somk/Documents/GitHub/AweSum-FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/somk/Documents/GitHub/AweSum-FE/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useState,useEffect}from'react';import styled from'styled-components';import ModalFrame from'../common/ModalFrame';import palette from'../../styles/palette.js';import axios from'axios';import{MutatingDots}from'react-loader-spinner';import{USER_SERVER}from'../../config.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Textbox=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  border-radius: 16px;\\n  height: 85%;\\n  width: 90%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  overflow: auto;\\n\"])),palette.pink[0]);var Text=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-family: 'Roboto', sans-serif;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 1.25rem;\\n  text-align: center;\\n  height: 520px;\\n  width: 90%;\\n  overflow: auto;\\n\"])));//length, videoID 받아옴\nvar SummaryModal=function SummaryModal(_ref){var _handleModal=_ref._handleModal,videoID=_ref.videoID,length=_ref.length;useEffect(function(){request();},[]);var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];// 비디오 ID 이용해서 response 받기\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),summary=_useState4[0],setSummary=_useState4[1];var request=function request(){console.log('requesting summary');length===2&&axios.get(\"\".concat(USER_SERVER,\"/summaries/long?id=\").concat(videoID)).then(function(response){setSummary(response.data[0].body);console.log('long summary generated');setLoading(false);}).catch(function(error){console.log(error);});length===1&&axios.get(\"\".concat(USER_SERVER,\"/summaries/medium?id=\").concat(videoID)).then(function(response){setSummary(response.data[0].body);console.log('medium summary generated');setLoading(false);}).catch(function(error){console.log(error);});};if(loading)return/*#__PURE__*/_jsxs(ModalFrame,{_handleModal:_handleModal,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Summary\"}),/*#__PURE__*/_jsx(Textbox,{children:/*#__PURE__*/_jsx(MutatingDots,{color:\"purple\"})})]});return/*#__PURE__*/_jsxs(ModalFrame,{_handleModal:_handleModal,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Summary\"}),/*#__PURE__*/_jsx(Textbox,{children:/*#__PURE__*/_jsx(Text,{children:summary})})]});};export default SummaryModal;","map":{"version":3,"sources":["/Users/somk/Documents/GitHub/AweSum-FE/src/components/summary/SummaryModal.js"],"names":["React","useState","useEffect","styled","ModalFrame","palette","axios","MutatingDots","USER_SERVER","Textbox","div","pink","Text","SummaryModal","_handleModal","videoID","length","request","loading","setLoading","summary","setSummary","console","log","get","then","response","data","body","catch","error"],"mappings":"6SAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,KAA6B,sBAA7B,CACA,OAASC,WAAT,KAA4B,iBAA5B,C,wFAEA,GAAMC,CAAAA,OAAO,CAAGN,MAAM,CAACO,GAAV,kQACGL,OAAO,CAACM,IAAR,CAAa,CAAb,CADH,CAAb,CAYA,GAAMC,CAAAA,IAAI,CAAGT,MAAM,CAACO,GAAV,4PAAV,CAWA;AACA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAuC,IAApCC,CAAAA,YAAoC,MAApCA,YAAoC,CAAtBC,OAAsB,MAAtBA,OAAsB,CAAbC,MAAa,MAAbA,MAAa,CAC1Dd,SAAS,CAAC,UAAM,CACde,OAAO,GACR,CAFQ,CAEN,EAFM,CAAT,CAIA,cAA8BhB,QAAQ,CAAC,IAAD,CAAtC,wCAAOiB,OAAP,eAAgBC,UAAhB,eAEA;AACA,eAA8BlB,QAAQ,CAAC,EAAD,CAAtC,yCAAOmB,OAAP,eAAgBC,UAAhB,eACA,GAAMJ,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBK,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACAP,MAAM,GAAK,CAAX,EACEV,KAAK,CACFkB,GADH,WACUhB,WADV,+BAC2CO,OAD3C,GAEGU,IAFH,CAEQ,SAAUC,QAAV,CAAoB,CACxBL,UAAU,CAACK,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAlB,CAAV,CACAN,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAJ,UAAU,CAAC,KAAD,CAAV,CACD,CANH,EAOGU,KAPH,CAOS,SAAUC,KAAV,CAAiB,CACtBR,OAAO,CAACC,GAAR,CAAYO,KAAZ,EACD,CATH,CADF,CAYAd,MAAM,GAAK,CAAX,EACEV,KAAK,CACFkB,GADH,WACUhB,WADV,iCAC6CO,OAD7C,GAEGU,IAFH,CAEQ,SAAUC,QAAV,CAAoB,CACxBL,UAAU,CAACK,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAlB,CAAV,CACAN,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACAJ,UAAU,CAAC,KAAD,CAAV,CACD,CANH,EAOGU,KAPH,CAOS,SAAUC,KAAV,CAAiB,CACtBR,OAAO,CAACC,GAAR,CAAYO,KAAZ,EACD,CATH,CADF,CAWD,CAzBD,CA0BA,GAAIZ,OAAJ,CACE,mBACE,MAAC,UAAD,EAAY,YAAY,CAAEJ,YAA1B,wBACE,+BADF,cAEE,KAAC,OAAD,wBACE,KAAC,YAAD,EAAc,KAAK,CAAC,QAApB,EADF,EAFF,GADF,CASF,mBACE,MAAC,UAAD,EAAY,YAAY,CAAEA,YAA1B,wBACE,+BADF,cAEE,KAAC,OAAD,wBACE,KAAC,IAAD,WAAOM,OAAP,EADF,EAFF,GADF,CAQD,CArDD,CAuDA,cAAeP,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport ModalFrame from '../common/ModalFrame';\nimport palette from '../../styles/palette.js';\nimport axios from 'axios';\nimport { MutatingDots } from 'react-loader-spinner';\nimport { USER_SERVER } from '../../config.js';\n\nconst Textbox = styled.div`\n  background: ${palette.pink[0]};\n  border-radius: 16px;\n  height: 85%;\n  width: 90%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n`;\n\nconst Text = styled.div`\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.25rem;\n  text-align: center;\n  height: 520px;\n  width: 90%;\n  overflow: auto;\n`;\n\n//length, videoID 받아옴\nconst SummaryModal = ({ _handleModal, videoID, length }) => {\n  useEffect(() => {\n    request();\n  }, []);\n\n  const [loading, setLoading] = useState(true);\n\n  // 비디오 ID 이용해서 response 받기\n  const [summary, setSummary] = useState('');\n  const request = () => {\n    console.log('requesting summary');\n    length === 2 &&\n      axios\n        .get(`${USER_SERVER}/summaries/long?id=${videoID}`)\n        .then(function (response) {\n          setSummary(response.data[0].body);\n          console.log('long summary generated');\n          setLoading(false);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n\n    length === 1 &&\n      axios\n        .get(`${USER_SERVER}/summaries/medium?id=${videoID}`)\n        .then(function (response) {\n          setSummary(response.data[0].body);\n          console.log('medium summary generated');\n          setLoading(false);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n  };\n  if (loading)\n    return (\n      <ModalFrame _handleModal={_handleModal}>\n        <h1>Summary</h1>\n        <Textbox>\n          <MutatingDots color=\"purple\" />\n        </Textbox>\n      </ModalFrame>\n    );\n\n  return (\n    <ModalFrame _handleModal={_handleModal}>\n      <h1>Summary</h1>\n      <Textbox>\n        <Text>{summary}</Text>\n      </Textbox>\n    </ModalFrame>\n  );\n};\n\nexport default SummaryModal;\n"]},"metadata":{},"sourceType":"module"}