{"ast":null,"code":"import _slicedToArray from\"/Users/somk/Documents/GitHub/AweSum-FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/somk/Documents/GitHub/AweSum-FE/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useEffect}from'react';import styled from'styled-components';import Input from'./Input.js';import Button from'../../components/common/Button.js';import TimeFrame from'./TimeFrame.js';import axios from'axios';import{USER_SERVER}from'../../config.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Board=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  border-radius: 16px;\\n  border: 2px solid #8b8b8b;\\n  height: 90%;\\n  width: 96%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-betweeen;\\n  align-items: flex-start;\\n  overflow: auto;\\n\"])));var Col=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 100%;\\n  height: 90%;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  align-items: center;\\n\"])));var Row=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n  height: 80px;\\n  justify-content: space-around;\\n  align-items: center;\\n\"])));var Grid=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 95%;\\n  display: grid;\\n  grid-template-columns: 1fr 3fr;\\n  grit-auto-rows: minmax(100px, auto);\\n  row-gap: 30px;\\n  column-gap: 20px;\\n  justify-items: center;\\n  align-items: center;\\n  margin-bottom: 30px;\\n  margin-top: 30px;\\n\"])));var Time=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-family: 'Roboto', sans-serif;\\n  font-weight: bold;\\n  font-size: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  overflow: auto;\\n\"])));var Sentence=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-family: 'Roboto', sans-serif;\\n  font-weight: bold;\\n  font-size: 15px;\\n  width: 100%;\\n  overflow: auto;\\n\"])));function KeywordList(_ref){var keyword=_ref.keyword;return/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Time,{children:keyword.start}),/*#__PURE__*/_jsx(Sentence,{children:keyword.text})]});}//videoID 랑 keyword 인자로 받음\nvar KeywordSearch=function KeywordSearch(_ref2){var videoID=_ref2.videoID;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var onChange=function onChange(e){var value=e.target.value;setInputs(value);};// handle click\nvar onClick=function onClick(){request();};// 서버 연결\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),keywords=_useState4[0],setKeyword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var request=function request(){console.log('im requesting keyword search');axios.get(\"\".concat(USER_SERVER,\"/videos/find?id=\").concat(videoID,\"&q=\").concat(inputs)).then(function(response){setKeyword(response.data);setLoading(false);console.log('complete');console.log(response.data.length);}).catch(function(error){console.log(error);});};if(loading)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TimeFrame,{style:{marginLeft:'10px',marginTop:'20px'}}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Board,{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Input,{value:inputs,onChange:onChange,placeholder:' Enter Key-Word '}),/*#__PURE__*/_jsx(Button,{onClick:onClick,children:\"ENTER\"})]})]})]});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TimeFrame,{style:{marginLeft:'10px',marginTop:'20px'}}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Board,{children:keywords.map(function(keyword){return/*#__PURE__*/_jsx(KeywordList,{keyword:keyword},keyword.sub_num);})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Input,{value:inputs,onChange:onChange,placeholder:' Enter Key-Word '}),/*#__PURE__*/_jsx(Button,{onClick:onClick,children:\"ENTER\"})]})]})]});};export default KeywordSearch;","map":{"version":3,"sources":["/Users/somk/Documents/GitHub/AweSum-FE/src/components/main/KeywordSearch.js"],"names":["React","useState","useEffect","styled","Input","Button","TimeFrame","axios","USER_SERVER","Board","div","Col","Row","Grid","Time","Sentence","KeywordList","keyword","start","text","KeywordSearch","videoID","inputs","setInputs","onChange","e","value","target","onClick","request","keywords","setKeyword","loading","setLoading","console","log","get","then","response","data","length","catch","error","marginLeft","marginTop","map","sub_num"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Input from './Input.js';\nimport Button from '../../components/common/Button.js';\nimport TimeFrame from './TimeFrame.js';\nimport axios from 'axios';\nimport { USER_SERVER } from '../../config.js';\n\nconst Board = styled.div`\n  border-radius: 16px;\n  border: 2px solid #8b8b8b;\n  height: 90%;\n  width: 96%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-betweeen;\n  align-items: flex-start;\n  overflow: auto;\n`;\n\nconst Col = styled.div`\n  display: flex;\n  width: 100%;\n  height: 90%;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 80px;\n  justify-content: space-around;\n  align-items: center;\n`;\n\nconst Grid = styled.div`\n  width: 95%;\n  display: grid;\n  grid-template-columns: 1fr 3fr;\n  grit-auto-rows: minmax(100px, auto);\n  row-gap: 30px;\n  column-gap: 20px;\n  justify-items: center;\n  align-items: center;\n  margin-bottom: 30px;\n  margin-top: 30px;\n`;\n\nconst Time = styled.div`\n  font-family: 'Roboto', sans-serif;\n  font-weight: bold;\n  font-size: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: auto;\n`;\n\nconst Sentence = styled.div`\n  font-family: 'Roboto', sans-serif;\n  font-weight: bold;\n  font-size: 15px;\n  width: 100%;\n  overflow: auto;\n`;\n\nfunction KeywordList({ keyword }) {\n  return (\n    <Grid>\n      <Time>{keyword.start}</Time>\n      <Sentence>{keyword.text}</Sentence>\n    </Grid>\n  );\n}\n\n//videoID 랑 keyword 인자로 받음\nconst KeywordSearch = ({ videoID }) => {\n  const [inputs, setInputs] = useState('');\n  const onChange = (e) => {\n    const value = e.target.value;\n    setInputs(value);\n  };\n\n  // handle click\n  const onClick = () => {\n    request();\n  };\n\n  // 서버 연결\n  const [keywords, setKeyword] = useState();\n  const [loading, setLoading] = useState(true);\n\n  const request = () => {\n    console.log('im requesting keyword search');\n    axios\n      .get(`${USER_SERVER}/videos/find?id=${videoID}&q=${inputs}`)\n      .then(function (response) {\n        setKeyword(response.data);\n        setLoading(false);\n        console.log('complete');\n        console.log(response.data.length);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  if (loading)\n    return (\n      <>\n        <TimeFrame style={{ marginLeft: '10px', marginTop: '20px' }} />\n        <Col>\n          <Board />\n          <Row>\n            <Input\n              value={inputs}\n              onChange={onChange}\n              placeholder={' Enter Key-Word '}\n            />\n            <Button onClick={onClick}>ENTER</Button>\n          </Row>\n        </Col>\n      </>\n    );\n  return (\n    <>\n      <TimeFrame style={{ marginLeft: '10px', marginTop: '20px' }} />\n      <Col>\n        <Board>\n          {keywords.map((keyword) => (\n            <KeywordList keyword={keyword} key={keyword.sub_num} />\n          ))}\n        </Board>\n        <Row>\n          <Input\n            value={inputs}\n            onChange={onChange}\n            placeholder={' Enter Key-Word '}\n          />\n          <Button onClick={onClick}>ENTER</Button>\n        </Row>\n      </Col>\n    </>\n  );\n};\n\nexport default KeywordSearch;\n"]},"metadata":{},"sourceType":"module"}